[[P20 ローマ字変換ページのコード例]] 

ここでは **tools/date-calc.html** と **js/utils-tools/date-calc.js** のコード例を示します。  
「○日後」や「○日前」の日付を簡単に計算できるシンプルなツールです。

---

## tools/date-calc.html

```html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>日付計算ツール</title>
  <link rel="stylesheet" href="../css/tools.css">
</head>
<body>
  <header>
    <h1>日付計算ツール</h1>
  </header>

  <main>
    <section class="tool-container">
      <label for="baseDate">基準日:</label>
      <input type="date" id="baseDate">

      <label for="days">日数 (正の数=未来 / 負の数=過去):</label>
      <input type="number" id="days" placeholder="例: 7 (未来) / -3 (過去)">

      <button id="calcBtn">計算する</button>

      <label for="resultDate">計算結果:</label>
      <input type="text" id="resultDate" readonly>
    </section>
  </main>

  <footer>
    <p><a href="../index.html">← ホームに戻る</a></p>
  </footer>

  <script src="../js/utils.js"></script>
  <script type="module" src="../js/utils-tools/date-calc.js"></script>
</body>
</html>
```

## js/utils-tools/date-calc.js
```Js
// ================================
// date-calc.js : 日付計算ツール
// ================================

import { isNotEmpty } from "../validators.js";

/**
 * 指定日付から日数を加算・減算した日付を返す
 * @param {string} baseDate - YYYY-MM-DD形式
 * @param {number} days - 加算/減算する日数
 * @returns {string} 計算結果の日付 (YYYY-MM-DD)
 */
export function calculateDate(baseDate, days) {
  if (!isNotEmpty(baseDate)) return "";

  const base = new Date(baseDate);
  if (isNaN(base.getTime())) return "";

  base.setDate(base.getDate() + days);
  const yyyy = base.getFullYear();
  const mm = String(base.getMonth() + 1).padStart(2, "0");
  const dd = String(base.getDate()).padStart(2, "0");

  return `${yyyy}-${mm}-${dd}`;
}

// DOM処理
document.addEventListener("DOMContentLoaded", () => {
  const baseInput = document.getElementById("baseDate");
  const daysInput = document.getElementById("days");
  const resultInput = document.getElementById("resultDate");
  const btn = document.getElementById("calcBtn");

  // デフォルトで今日の日付を入力欄にセット
  const today = new Date();
  baseInput.value = today.toISOString().slice(0, 10);

  btn.addEventListener("click", () => {
    const baseDate = baseInput.value;
    const days = parseInt(daysInput.value, 10);

    if (isNaN(days)) {
      resultInput.value = "日数を入力してください";
      return;
    }

    const result = calculateDate(baseDate, days);
    resultInput.value = result || "入力が不正です";
  });
});
```

## 補足
- 基準日 が未入力の場合は空文字を返すようにしています
- 日付入力欄には初期値として「今日」をセット
- 正の値は未来、負の値は過去の日付を計算可能
- 出力形式は YYYY-MM-DD

---

※この記事はChatGPTの回答を基に作成しています。

[[P22 tools／color-name.html（UI部分）と js／dev-design／color-name.js（ロジック部分）のサンプルコード]]
